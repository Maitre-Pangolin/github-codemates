(this["webpackJsonpgithub-cohort"]=this["webpackJsonpgithub-cohort"]||[]).push([[0],{106:function(e,t,c){},107:function(e,t,c){},121:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(36),a=c.n(s),i=(c(106),c(107),c(83)),o=c(10),j=c(39),u=c(122),h=c(50),l=c.n(h),b=c(57),d=c(15),O=c(139),f=c(137),x=c(2),p=function(){var e=Object(o.f)(),t=Object(n.useState)(""),c=Object(d.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(void 0),i=Object(d.a)(a,2),j=i[0],u=i[1],h=function(){var t=Object(b.a)(l.a.mark((function t(c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c){t.next=2;break}return t.abrupt("return");case 2:fetch("https://api.github.com/users/".concat(c)).then((function(e){if(404===e.status)throw new Error("404 : User ".concat(c," not found."));return e.json()})).then((function(t){if(t.message)throw new Error(t.message);e.push({pathname:"/res/".concat(t.login),state:{user:t}})})).catch((function(e){u(Object(x.jsx)(O.a,{color:"red",children:Object(x.jsx)(O.a.Header,{children:e.message})}))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"search",children:[Object(x.jsx)(f.a,{action:{color:"teal",icon:"search",labelPosition:"right",content:"Search",onClick:function(){h(r)}},icon:"users",iconPosition:"left",placeholder:"Search user...",size:"huge",onChange:function(e){s(e.target.value),u(void 0)}}),j]})},m=c(138),g=c(92),v=function(e){var t="https://github-project-backend.herokuapp.com/user/".concat(e.user.login),c=Object(n.useState)({}),r=Object(d.a)(c,2),s=r[0],a=r[1];return Object(n.useEffect)((function(){fetch(t).then((function(e){return e.json()})).then((function(e){return a(e)}))}),[t]),Object(x.jsx)("div",{style:{margin:"20px",width:"300px"},children:Object(x.jsxs)(m.a,{href:s.html_url,fluid:!0,children:[Object(x.jsx)(g.a,{src:e.user.avatar_url}),Object(x.jsxs)(m.a.Content,{children:[Object(x.jsx)(m.a.Header,{children:e.user.login}),Object(x.jsx)(m.a.Meta,{children:s.name}),Object(x.jsx)(m.a.Description,{textAlign:"left",children:s.bio||"No bio"})]}),Object(x.jsxs)(m.a.Content,{extra:!0,textAlign:"left",children:[Object(x.jsxs)(m.a.Description,{children:[Object(x.jsx)(j.a,{name:"github square"}),s.public_repos," public repositories"]}),Object(x.jsxs)(m.a.Description,{children:[Object(x.jsx)(j.a,{name:"home"}),s.location||"No location"]}),Object(x.jsxs)(m.a.Description,{children:[Object(x.jsx)(j.a,{name:"building"}),s.company||"No company"]}),Object(x.jsxs)(m.a.Description,{children:[Object(x.jsx)(j.a,{name:"users"}),s.followers," follower",s.followers>1?"s":""]})]})]})})},w=function(e){var t=Object(n.useState)({}),c=Object(d.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)([]),i=Object(d.a)(a,2),o=i[0],h=i[1],f=Object(n.useState)(0),p=Object(d.a)(f,2),m=p[0],g=p[1],w=Object(n.useState)(1),S=Object(d.a)(w,2),k=S[0],y=S[1],C=Object(n.useState)(void 0),P=Object(d.a)(C,2),E=P[0],A=P[1],D=e.match.params.login,N=function(){var e=Object(b.a)(l.a.mark((function e(t){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new Date(t.created_at),n="https://api.github.com/search/users?q=created:".concat(c.toISOString().slice(0,-14),"..").concat(c.toISOString().slice(0,-14),"&per_page=").concat(30,"&page=").concat(k),fetch(n).then((function(e){return e.json()})).then((function(e){h(e.items),g(e.total_count)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(e.location.state){var t=e.location.state.user;s(t),N(t)}else fetch("https://api.github.com/users/".concat(D)).then((function(e){if(404===e.status)throw new Error("404 : User ".concat(D," not found."));if(403===e.status)throw new Error("API rate exceeded");return e.json()})).then((function(e){s(e),N(e)})).catch((function(e){return A(Object(x.jsx)(O.a,{color:"red",children:Object(x.jsx)(O.a.Header,{children:e.message})}))}))}),[k]);var _;return E||(r?Object(x.jsxs)("div",{children:[Object(x.jsxs)("h2",{children:["Hi ",Object(x.jsx)("span",{style:{color:"teal"},children:r.login})," ! You created your github account on"," ",Object(x.jsx)("span",{style:{color:"teal"},children:(_=r.created_at,new Date(_).toDateString())}),", meet your ",m," codemates."]}),Object(x.jsxs)(u.a,{icon:!0,labelPosition:"left",disabled:1===k,onClick:function(){y(k-1)},children:["Previous",Object(x.jsx)(j.a,{name:"left arrow"})]}),Object(x.jsxs)(u.a,{icon:!0,labelPosition:"right",disabled:30*k>m,onClick:function(){y(k+1)},children:["Next",Object(x.jsx)(j.a,{name:"right arrow"})]}),Object(x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"},children:[Object(x.jsx)(v,{user:r},r.id),o.map((function(e){return Object(x.jsx)(v,{user:e},e.id)}))]}),Object(x.jsxs)(u.a,{icon:!0,labelPosition:"left",disabled:1===k,onClick:function(){y(k-1)},children:["Previous",Object(x.jsx)(j.a,{name:"left arrow"})]}),Object(x.jsxs)(u.a,{icon:!0,labelPosition:"right",disabled:30*k>m,onClick:function(){y(k+1)},children:["Next",Object(x.jsx)(j.a,{name:"right arrow"})]})]}):void 0)},S=function(){var e=Object(n.useState)({}),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)({}),a=Object(d.a)(s,2),i=a[0],o=a[1],j=Object(n.useState)(void 0),u=Object(d.a)(j,2),h=u[0],l=u[1];return Object(n.useEffect)((function(){fetch("https://api.github.com/rate_limit?").then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){return l(e.message)})),fetch("https://github-project-backend.herokuapp.com/rate").then((function(e){return e.json()})).then((function(e){o(e)})).catch((function(e){return l(e.message)}))}),[]),c.resources&&i.resources?Object(x.jsxs)("div",{style:{textAlign:"left",marginLeft:"20px"},children:[Object(x.jsx)("h2",{children:"API Stats"}),Object(x.jsx)("h2",{children:"CORE (From server API token)"}),Object(x.jsxs)("p",{children:["Limit : ",i.resources.core.limit]}),Object(x.jsxs)("p",{children:["Remaining : ",i.resources.core.remaining]}),Object(x.jsx)("h2",{children:"SEARCH"}),Object(x.jsxs)("p",{children:["Limit : ",c.resources.search.limit]}),Object(x.jsxs)("p",{children:["Remaining : ",c.resources.search.remaining]}),Object(x.jsx)("h1",{children:h})]}):Object(x.jsx)("h1",{children:h})};var k=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(i.a,{children:[Object(x.jsx)("header",{children:Object(x.jsxs)("h1",{children:["Github C",Object(x.jsx)(j.a,{name:"github",size:"small"}),"demates"]})}),Object(x.jsxs)("div",{className:"homeFloat",children:[" ",Object(x.jsx)(i.b,{to:"/",children:Object(x.jsxs)(u.a,{animated:"fade",size:"big",children:[Object(x.jsx)(u.a.Content,{visible:!0,children:Object(x.jsx)(j.a,{name:"home"})}),Object(x.jsx)(u.a.Content,{hidden:!0,children:"Home"})]})})]}),Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{path:"/",component:p,exact:!0}),Object(x.jsx)(o.a,{path:"/rate",component:S,exact:!0}),Object(x.jsx)(o.a,{path:"/res/:login",component:w,exact:!0})]})]})})};c(120);a.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(k,{})}),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.8f937e7a.chunk.js.map