{"version":3,"sources":["Search.js","Neighbour2.js","Users.js","App.js","index.js"],"names":["Search","history","useHistory","useState","name","setName","undefined","error","setError","getUser","a","fetch","then","response","status","Error","json","data","message","push","pathname","login","state","user","catch","e","Message","color","Header","className","Input","action","icon","labelPosition","content","onClick","iconPosition","placeholder","size","onChange","target","value","Neighbour","props","style","margin","width","Card","href","html_url","fluid","Image","src","avatar_url","Content","Users","setUser","neighbours","setNeighbours","totalResults","setTotalResults","page","setPage","match","params","getNeighbours","dateFrom","Date","created_at","url","toISOString","slice","console","log","items","total_count","useEffect","location","dateStr","toDateString","Button","disabled","Icon","display","flexWrap","justifyContent","Neighbour2","id","map","n","App","to","animated","visible","hidden","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fc153047.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Input, Message } from \"semantic-ui-react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useState } from \"react\";\r\n\r\nconst Search = () => {\r\n  const history = useHistory();\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(undefined);\r\n\r\n  const getUser = async (name) => {\r\n    if (!name) return;\r\n    fetch(`https://api.github.com/users/${name}`)\r\n      .then((response) => {\r\n        if (response.status === 404) {\r\n          throw new Error(`404 : User ${name} not found.`);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.message) throw new Error(data.message);\r\n        history.push({\r\n          pathname: `/${data.login}`,\r\n          state: { user: data },\r\n        });\r\n      })\r\n      .catch((e) => {\r\n        setError(\r\n          <Message color=\"red\">\r\n            <Message.Header>{e.message}</Message.Header>\r\n          </Message>\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <Input\r\n        action={{\r\n          color: \"teal\",\r\n          icon: \"search\",\r\n          labelPosition: \"right\",\r\n          content: \"Search\",\r\n          onClick: () => {\r\n            getUser(name);\r\n          },\r\n        }}\r\n        icon=\"users\"\r\n        iconPosition=\"left\"\r\n        placeholder=\"Search user...\"\r\n        size=\"huge\"\r\n        onChange={(e) => {\r\n          setName(e.target.value);\r\n          setError(undefined);\r\n        }}\r\n      />\r\n      {error}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { Card, Image } from \"semantic-ui-react\";\r\n\r\nconst Neighbour = (props) => {\r\n  const user = props.user;\r\n\r\n  /*useEffect(() => {\r\n    fetch(urlUser)\r\n      .then((response) => response.json())\r\n      .then((data) => setUser(data));\r\n  }, [urlUser]);*/\r\n\r\n  return (\r\n    <div style={{ margin: \"20px\", width: \"300px\" }}>\r\n      <Card href={user.html_url} fluid>\r\n        <Image src={user.avatar_url} />\r\n        <Card.Content>\r\n          <Card.Header>{user.login}</Card.Header>\r\n        </Card.Content>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Neighbour;\r\n","import { useState, useEffect } from \"react\";\r\nimport { Button, Icon, Message } from \"semantic-ui-react\";\r\nimport Neighbour2 from \"./Neighbour2\";\r\n\r\nconst Users = (props) => {\r\n  const [user, setUser] = useState({});\r\n  const [neighbours, setNeighbours] = useState([]);\r\n  const [totalResults, setTotalResults] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [error, setError] = useState(undefined);\r\n\r\n  const perPage = 30;\r\n  const login = props.match.params.login;\r\n\r\n  const getNeighbours = async (user) => {\r\n    const dateFrom = new Date(user.created_at);\r\n    const url = `https://api.github.com/search/users?q=created:${dateFrom\r\n      .toISOString()\r\n      .slice(0, -14)}..${dateFrom\r\n      .toISOString()\r\n      .slice(0, -14)}&per_page=${perPage}&page=${page}`;\r\n    console.log(\"From Users component :\", `calling ${url}`);\r\n    fetch(url)\r\n      .then((response) => {\r\n        console.log(response);\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        setNeighbours(data.items);\r\n        setTotalResults(data.total_count);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!props.location.state) {\r\n      fetch(`https://api.github.com/users/${login}`)\r\n        .then((response) => {\r\n          if (response.status === 404)\r\n            throw new Error(`404 : User ${login} not found.`);\r\n          if (response.status === 403) throw new Error(\"API rate exceeded\");\r\n          return response.json();\r\n        })\r\n        .then((user) => {\r\n          setUser(user);\r\n          getNeighbours(user);\r\n        })\r\n        .catch((e) =>\r\n          setError(\r\n            <Message color=\"red\">\r\n              <Message.Header>{e.message}</Message.Header>\r\n            </Message>\r\n          )\r\n        );\r\n    } else {\r\n      const user = props.location.state.user;\r\n      setUser(user);\r\n      getNeighbours(user);\r\n    }\r\n  }, [page]);\r\n\r\n  const formatDate = (dateStr) => {\r\n    const date = new Date(dateStr);\r\n    return date.toDateString();\r\n  };\r\n\r\n  if (error) {\r\n    return error;\r\n  }\r\n\r\n  if (user)\r\n    return (\r\n      <div>\r\n        <h2>\r\n          Hi <span style={{ color: \"teal\" }}>{user.login}</span> ! You created\r\n          your github account on{\" \"}\r\n          <span style={{ color: \"teal\" }}>{formatDate(user.created_at)}</span>,\r\n          meet your {totalResults} codemates.\r\n        </h2>\r\n        <Button\r\n          icon\r\n          labelPosition=\"left\"\r\n          disabled={page === 1 ? true : false}\r\n          onClick={() => {\r\n            setPage(page - 1);\r\n          }}\r\n        >\r\n          Previous\r\n          <Icon name=\"left arrow\" />\r\n        </Button>\r\n        <Button\r\n          icon\r\n          labelPosition=\"right\"\r\n          disabled={perPage * page > totalResults ? true : false}\r\n          onClick={() => {\r\n            setPage(page + 1);\r\n          }}\r\n        >\r\n          Next\r\n          <Icon name=\"right arrow\" />\r\n        </Button>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-evenly\",\r\n          }}\r\n        >\r\n          <Neighbour2 key={user.id} user={user}></Neighbour2>\r\n          {neighbours.map((n) => (\r\n            <Neighbour2 key={n.id} user={n}></Neighbour2>\r\n          ))}\r\n        </div>\r\n        <Button\r\n          icon\r\n          labelPosition=\"left\"\r\n          disabled={page === 1 ? true : false}\r\n          onClick={() => {\r\n            setPage(page - 1);\r\n          }}\r\n        >\r\n          Previous\r\n          <Icon name=\"left arrow\" />\r\n        </Button>\r\n        <Button\r\n          icon\r\n          labelPosition=\"right\"\r\n          disabled={perPage * page > totalResults ? true : false}\r\n          onClick={() => {\r\n            setPage(page + 1);\r\n          }}\r\n        >\r\n          Next\r\n          <Icon name=\"right arrow\" />\r\n        </Button>\r\n      </div>\r\n    );\r\n  return undefined;\r\n};\r\n\r\nexport default Users;\r\n","import \"./App.css\";\nimport { HashRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { Button, Icon } from \"semantic-ui-react\";\nimport Search from \"./Search\";\nimport Users from \"./Users\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <header>\n          <h1>\n            Github C\n            <Icon name=\"github\" size=\"small\" />\n            demates\n          </h1>\n        </header>\n        <div className=\"homeFloat\">\n          {\" \"}\n          <Link to=\"/\">\n            <Button animated=\"fade\" size=\"big\">\n              <Button.Content visible>\n                <Icon name=\"home\" />\n              </Button.Content>\n              <Button.Content hidden>Home</Button.Content>\n            </Button>\n          </Link>\n        </div>\n        <Switch>\n          <Route path=\"/\" component={Search} exact={true} />\n          <Route path=\"/:login\" component={Users} exact={true} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"semantic-ui-css/semantic.min.css\";\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}